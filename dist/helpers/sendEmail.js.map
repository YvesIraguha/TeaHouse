{"version":3,"sources":["../../src/helpers/sendEmail.js"],"names":["baseApi","process","env","BASE_API","emailContent","firstName","email","resetToken","to","from","subject","html","sendResetPasswordLink","sgMail","setApiKey","SENDGRID_API_KEY","sendGridResponse","send","error","Error","message"],"mappings":";;;;;;;;;AAAA;;AACA;;AAEA,IAAMA,OAAO,GAAGC,OAAO,CAACC,GAAR,CAAYC,QAA5B;;AAEA,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,SAAD,EAAYC,KAAZ,EAAmBC,UAAnB;AAAA,SAAmC;AACtDC,IAAAA,EAAE,EAAEF,KADkD;AAEtDG,IAAAA,IAAI,EAAE,uBAFgD;AAGtDC,IAAAA,OAAO,EAAE,wBAH6C;AAItDC,IAAAA,IAAI,EAAE,+BAAcN,SAAd,YAA4BL,OAAO,GAAGO,UAAtC;AAJgD,GAAnC;AAAA,CAArB;;AAOO,IAAMK,qBAAqB,GAAG,eAAxBA,qBAAwB,CAAOP,SAAP,EAAkBC,KAAlB,EAAyBC,UAAzB,EAAwC;AAC3E,MAAI;AACFM,qBAAOC,SAAP,CAAiBb,OAAO,CAACC,GAAR,CAAYa,gBAA7B;;AACA,QAAMC,gBAAgB,GAAG,MAAMH,iBAAOI,IAAP,CAC7Bb,YAAY,CAACC,SAAD,EAAYC,KAAZ,EAAmBC,UAAnB,CADiB,CAA/B;AAGA,WAAOS,gBAAP;AACD,GAND,CAME,OAAOE,KAAP,EAAc;AACd,UAAM,IAAIC,KAAJ,CAAUD,KAAK,CAACE,OAAhB,CAAN;AACD;AACF,CAVM","sourcesContent":["import sgMail from \"@sendgrid/mail\";\nimport emailTemplate from \"./emailTemplate\";\n\nconst baseApi = process.env.BASE_API;\n\nconst emailContent = (firstName, email, resetToken) => ({\n  to: email,\n  from: \"iraguhaivos@gmail.com\",\n  subject: \"Reset Password Request\",\n  html: emailTemplate(firstName, `${baseApi + resetToken}`)\n});\n\nexport const sendResetPasswordLink = async (firstName, email, resetToken) => {\n  try {\n    sgMail.setApiKey(process.env.SENDGRID_API_KEY);\n    const sendGridResponse = await sgMail.send(\n      emailContent(firstName, email, resetToken)\n    );\n    return sendGridResponse;\n  } catch (error) {\n    throw new Error(error.message);\n  }\n};\n"],"file":"sendEmail.js"}